# ========================================
# Viridial - Configuration Centralisée
# ========================================
# 
# Ce fichier contient toutes les variables d'environnement
# nécessaires pour le projet Viridial.
# 
# Usage:
#   1. Copier ce fichier vers .env à la racine
#   2. Remplir les valeurs réelles
#   3. Exécuter: ./scripts/setup-env.sh
#
# ⚠️  NE JAMAIS COMMITTER le fichier .env !
# ========================================

# ========================================
# ENVIRONNEMENT
# ========================================
NODE_ENV=production
# Options: development, staging, production

# ========================================
# URLS ET DOMAINES
# ========================================
# URL principale du frontend (HTTPS en production)
FRONTEND_URL=https://viridial.com

# URL de l'API Auth (pour les emails de vérification)
FRONTEND_AUTH_API_URL=https://viridial.com

# Domaine principal
DOMAIN=viridial.com

# IP du VPS (fallback si domaine non disponible)
VPS_IP=148.230.112.148

# ========================================
# BASE DE DONNÉES
# ========================================
# URL complète de connexion PostgreSQL
# Format: postgresql://user:password@host:port/database
DATABASE_URL=postgresql://viridial:CHANGE_ME@localhost:5432/viridial

# Variables individuelles (alternatives à DATABASE_URL)
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_USER=viridial
POSTGRES_PASSWORD=CHANGE_ME
POSTGRES_DB=viridial

# ========================================
# REDIS
# ========================================
# URL de connexion Redis (pour sessions/cache)
REDIS_URL=redis://localhost:6379
# Alternative: redis://:password@host:port
REDIS_PASSWORD=

# ========================================
# SMTP / EMAIL
# ========================================
# Configuration SMTP pour l'envoi d'emails
SMTP_HOST=smtp.hostinger.com
SMTP_PORT=465
SMTP_SECURE=true
SMTP_USER=support@viridial.com
SMTP_PASS=CHANGE_ME

# Email d'expéditeur
EMAIL_FROM=support@viridial.com
FROM_NAME=Viridial Support

# ========================================
# JWT / AUTHENTIFICATION
# ========================================
# Secret pour la génération des tokens JWT
# Générer avec: openssl rand -base64 32
JWT_SECRET=CHANGE_ME_GENERATE_SECRET
JWT_REFRESH_SECRET=CHANGE_ME_GENERATE_REFRESH_SECRET
JWT_ACCESS_SECRET=CHANGE_ME_GENERATE_ACCESS_SECRET

# Durée de vie des tokens (en secondes)
JWT_EXPIRES_IN=3600
JWT_REFRESH_EXPIRES_IN=604800
JWT_ACCESS_EXPIRES_IN=15m

# ========================================
# SERVICES - PORTS
# ========================================
# Ports des services
AUTH_SERVICE_PORT=3000
PROPERTY_SERVICE_PORT=3001
FRONTEND_PORT=3000
NGINX_PORT_HTTP=80
NGINX_PORT_HTTPS=443

# ========================================
# GOOGLE OIDC / SSO
# ========================================
# Configuration Google OAuth (optionnel)
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=
GOOGLE_CALLBACK_URL=https://viridial.com/auth/google/callback

# ========================================
# MEILISEARCH
# ========================================
# Clé maître Meilisearch (pour la recherche)
MEILI_MASTER_KEY=CHANGE_ME_GENERATE_MEILI_KEY
MEILI_HOST=http://localhost:7700

# ========================================
# STRIPE (Billing - Optionnel)
# ========================================
STRIPE_SECRET_KEY=
STRIPE_PUBLISHABLE_KEY=
STRIPE_WEBHOOK_SECRET=

# ========================================
# MONITORING / OBSERVABILITY (Optionnel)
# ========================================
# Sentry DSN pour le monitoring d'erreurs
SENTRY_DSN=

# ========================================
# DÉVELOPPEMENT LOCAL
# ========================================
# Décommenter pour le développement local
# DATABASE_URL=postgresql://viridial:password@localhost:5432/viridial_dev
# FRONTEND_URL=http://localhost:3000
# FRONTEND_AUTH_API_URL=http://localhost:3000
# NODE_ENV=development
